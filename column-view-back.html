<dom-module id="column-view-back">
  <script>

    Polymer({

      extends: 'button',

      is: 'column-view-back',

      properties: {
        for: String
      },

      listeners: {
        'tap': 'onTap',
      },

      onTap: function() {
        if (this.columnView) this.columnView.back();
      },

      ready: function() {
        var _this = this;
        var columnView = document.getElementById(this.for);
        if (!this._isColumnView(columnView)) return;

        this.columnView = columnView;
        this.disabled = !this.canMoveBack;

        columnView.addEventListener("change", function() {
          _this.disabled = !columnView.canMoveBack;
        });

      },

      _isColumnView: function(el) {
        return el && el.nodeType === 1 && el.tagName == "COLUMN-VIEW";
      }

    });
  </script>
</dom-module>
